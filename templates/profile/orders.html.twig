{% extends 'base.html.twig' %}

{% block title %}Активность — личный кабинет{% endblock %}

{% block body %}
    <section class="bg-gray-50/70 py-10 sm:py-12">
        <div class="mx-auto max-w-6xl px-4 sm:px-6 lg:px-8">
            <div class="mb-8 rounded-2xl border border-gray-200 bg-white p-6 shadow-sm sm:p-8">
                <h1 class="text-3xl font-bold text-gray-900">Активность и заказы</h1>
                <p class="mt-2 text-sm text-gray-600">Статус аккаунта, безопасность и действия по размещениям.</p>
            </div>
    <section class="mx-auto max-w-7xl px-4 py-10 sm:px-6 lg:px-8">
        <h1 class="mb-2 text-3xl font-bold text-gray-900">Активность и заказы</h1>
        <p class="mb-6 text-sm text-gray-600">История взаимодействий с сервисом и текущий статус аккаунта.</p>

            {% include 'profile/_tabs.html.twig' %}


            <div class="mt-6 grid gap-6 lg:grid-cols-3">
                <article class="rounded-2xl border border-gray-200 bg-white p-6 shadow-sm">
                    <h2 class="text-sm font-semibold uppercase tracking-wide text-gray-500">Профиль</h2>
                    <div class="mt-4 space-y-2 text-sm text-gray-700">
                        <p><span class="font-semibold">Имя:</span> {{ user.firstName ?: '—' }}</p>
                        <p><span class="font-semibold">Email:</span> {{ user.email ?: '—' }}</p>
                        <p><span class="font-semibold">Телефон:</span> {{ user.phone ?: '—' }}</p>
                    </div>
                </article>

                <article class="rounded-2xl border border-gray-200 bg-white p-6 shadow-sm">
                    <h2 class="text-sm font-semibold uppercase tracking-wide text-gray-500">Безопасность</h2>
                    <div class="mt-4 space-y-2 text-sm text-gray-700">
                        <p><span class="font-semibold">Подтверждение email:</span>
                            <span class="{{ user.isVerified ? 'text-green-700' : 'text-yellow-700' }}">{{ user.isVerified ? 'Подтверждён' : 'Не подтверждён' }}</span>
                        </p>
                        <p><span class="font-semibold">Роли:</span> {{ user.roles|join(', ') }}</p>
                        <p><span class="font-semibold">Последнее обновление:</span> {{ user.updatedAt ? user.updatedAt|date('d.m.Y H:i') : '—' }}</p>
                    </div>
                </article>

                <article class="rounded-2xl border border-gray-200 bg-white p-6 shadow-sm">
                    <h2 class="text-sm font-semibold uppercase tracking-wide text-gray-500">Быстрые действия</h2>
                    <div class="mt-4 flex flex-col gap-2">
                        <a href="{{ path('app_map_app') }}" class="rounded-lg border border-gray-300 px-4 py-2 text-sm font-medium text-gray-700 transition hover:border-red-300 hover:text-red-600">Перейти на карту конструкций</a>
                        <a href="{{ path('profile') }}" class="rounded-lg border border-gray-300 px-4 py-2 text-sm font-medium text-gray-700 transition hover:border-red-300 hover:text-red-600">Редактировать профиль</a>
                    </div>
                </article>
            </div>

            <div class="mt-8 rounded-2xl border border-gray-200 bg-white p-6 shadow-sm">
                <h2 class="text-lg font-semibold text-gray-900">История заказов</h2>
                <p class="mt-2 text-sm text-gray-600">Раздел будет расширен после подключения клиентских заявок и связки с бронированиями.</p>
        <div class="grid gap-6 lg:grid-cols-3">
            <article class="rounded-2xl border border-gray-200 bg-white p-6 shadow-sm">
                <h2 class="text-sm font-medium uppercase tracking-wide text-gray-500">Профиль</h2>
                <div class="mt-4 space-y-2 text-sm text-gray-700">
                    <p><span class="font-semibold">Имя:</span> {{ user.firstName ?: '—' }}</p>
                    <p><span class="font-semibold">Email:</span> {{ user.email ?: '—' }}</p>
                    <p><span class="font-semibold">Телефон:</span> {{ user.phone ?: '—' }}</p>
                </div>
            </article>

            <article class="rounded-2xl border border-gray-200 bg-white p-6 shadow-sm">
                <h2 class="text-sm font-medium uppercase tracking-wide text-gray-500">Безопасность</h2>
                <div class="mt-4 space-y-2 text-sm text-gray-700">
                    <p><span class="font-semibold">Подтверждение email:</span>
                        <span class="{{ user.isVerified ? 'text-green-700' : 'text-yellow-700' }}">{{ user.isVerified ? 'Подтверждён' : 'Не подтверждён' }}</span>
                    </p>
                    <p><span class="font-semibold">Роли:</span> {{ user.roles|join(', ') }}</p>
                    <p><span class="font-semibold">Последнее обновление:</span> {{ user.updatedAt ? user.updatedAt|date('d.m.Y H:i') : '—' }}</p>
                </div>
            </article>

            <article class="rounded-2xl border border-gray-200 bg-white p-6 shadow-sm">
                <h2 class="text-sm font-medium uppercase tracking-wide text-gray-500">Быстрые действия</h2>
                <div class="mt-4 flex flex-col gap-2">
                    <a href="{{ path('app_map_app') }}" class="rounded-lg border border-gray-300 px-4 py-2 text-sm font-medium text-gray-700 hover:border-red-300 hover:text-red-600">Перейти на карту конструкций</a>
                    <a href="{{ path('profile') }}" class="rounded-lg border border-gray-300 px-4 py-2 text-sm font-medium text-gray-700 hover:border-red-300 hover:text-red-600">Редактировать профиль</a>
                </div>
            </article>
        </div>

        <div class="mt-8 rounded-2xl border border-gray-200 bg-white p-6 shadow-sm">
            <h2 class="text-lg font-semibold text-gray-900">История заказов</h2>
            <p class="mt-2 text-sm text-gray-600">Раздел заказов будет расширен после подключения клиентских заявок и связки с бронированиями.</p>
        </div>
    </section>
{% endblock %}
